<div class="modal-dialog" role="document">
  <div class="modal-content">

<%= form_with(model: @picture, local: true) do |form| %>
    <% if @picture.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(picture.errors.count, "つのエラー") %> 下記理由によりエラーが発生しました！:</h2>
  
        <ul class="ten-non">
        <% @picture.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>
    <% end %>
    
    <%= form_with(model: @picture, local: true) do |form| %>
      <div class="modal-header">
      <h5 class="modal-title">写真の投稿</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
      </button>
      </div>
    <div class="field">
      <%= form.label :image_title %><br>
      <%= form.text_field :image_title, id: :picture_image_title %>
    </div>


    <div class="field">
      <%= form.label :image_content %><br>
      <%= form.text_area :image_content, id: :picture_image_content %>
    </div>

    <div class="field">
    <%= form.label :image %><br>
      <%= image_tag(@picture.image.url, :size =>'378x318') if @picture.image && @picture.image.url%><br>
  
      <%= form.file_field :image, id: :picture_image %><br>
      <%= form.hidden_field :image_cache %>
    </div>
    <br>
    <% Label.all.each do |label|%>
        <%= form.check_box :label_ids, {multiple: true, checked: label[:checked], disabled: label[:disabled], include_hidden: false}, label[:id]%>
        <label style="background-color: aquamarine"><%= label.label_title %></label>
      <% end %>
    <br>
    <br>
    <div class="modal-footer">
    <div class="actions">
      <%= form.submit "登録", class: 'btn btn-primary' %>
    </div>
    </div>
    <br>
  <% end %>
  </div>
  </div>